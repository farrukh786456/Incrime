<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>How It Works ‚Äì InCrime</title>
<style>
  :root{
    --bg1:#eef6fb;
    --bg2:#ffffff;
    --accent:#0d2a3a;
    --gold:#FFD700;
  }
  html,body{height:100%;margin:0;font-family:"Segoe UI",system-ui,-apple-system,SegoeUI,Roboto,"Helvetica Neue",Arial;}
  body{
    background:linear-gradient(135deg,var(--bg1),var(--bg2));
    color:var(--accent);
  }

  /* Navbar */
  nav{
    display:flex;align-items:center;justify-content:space-between;
    padding:16px 56px;
    background:#0d2a3a;color:#fff;
    position:sticky;top:0;z-index:50;
    box-shadow:0 6px 18px rgba(13,42,58,0.2);
  }
  .logo{font-weight:700;font-size:20px;}
  nav ul{display:flex;gap:24px;list-style:none;margin:0;padding:0}
  nav a{color:#fff;text-decoration:none;}
  nav a:hover{color:var(--gold)}

  .hero{text-align:center;padding:72px 10% 40px;}
  .hero h1{font-size:40px;margin:0 0 10px}
  .hero p{color:#2b3b45;margin:0 0 28px;font-size:17px}

  .grid{
    display:flex;gap:32px;justify-content:center;flex-wrap:wrap;padding:20px 6%;
    margin-bottom:60px;
  }

  .card{
    width:370px;min-height:220px;background:#fff;
    border-radius:16px;padding:28px;
    box-shadow:0 8px 30px rgba(8,20,30,0.08);
    transition:transform .38s,box-shadow .38s;cursor:pointer;
    display:flex;flex-direction:column;justify-content:space-between;
  }
  .card:hover{transform:translateY(-10px);box-shadow:0 18px 46px rgba(8,20,30,0.12)}
  .card .icon{font-size:28px}
  .card h3{margin:12px 0 8px;font-size:20px}
  .card p{margin:0;color:#405660;line-height:1.4}
  .card .cta{
    margin-top:18px;align-self:flex-start;background:var(--gold);
    border:none;padding:10px 16px;border-radius:10px;font-weight:700;
    cursor:pointer;color:#06202a;
  }

  /* overlay */
  .overlay{
    position:fixed;inset:0;display:none;place-items:center;
    background:rgba(0,0,0,0.55);z-index:120;
    backdrop-filter:blur(6px);
    padding:32px;
  }
  .panel{
    width:min(1100px,98%);
    height:min(85vh,900px);
    background:#fff;border-radius:14px;
    box-shadow:0 30px 80px rgba(6,20,30,0.45);
    display:grid;grid-template-columns:400px 1fr;overflow:hidden;
    position:relative;
  }

  .left{padding:24px;border-right:1px solid rgba(0,0,0,0.05);overflow-y:auto;}
  .left h3{margin-top:0;}
  .step{background:#f8fafc;padding:12px;border-radius:8px;margin-bottom:10px;
        cursor:pointer;transition:background .3s;}
  .step:hover{background:#eef5f9}
  .step h4{margin:0;font-size:15px;color:#0d2a3a}
  .step p{margin:4px 0 0;font-size:13px;color:#405660}

  .right{padding:24px;overflow-y:auto;}
  .right h3{margin-top:0;}
  .content p, .content li{font-size:15px;line-height:1.5;color:#20343a}
  .content{animation:fade .4s ease;}
  @keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

  .close-x{
    position:absolute;right:16px;top:12px;background:none;border:none;
    color:#0d2a3a;font-size:22px;cursor:pointer;
  }
  .back-btn{
    position:absolute;left:16px;top:12px;background:var(--gold);border:none;
    padding:6px 14px;border-radius:8px;cursor:pointer;font-weight:600;
  }

  footer{padding:18px;text-align:center;background:#0d2a3a;color:#fff;font-size:14px}
  @media(max-width:900px){.panel{grid-template-columns:1fr}.left{display:none}}
</style>
</head>
<body>

<nav>
  <div class="logo">‚öñÔ∏è InCrime</div>
  <ul>
    <li><a href="#">Home</a></li>
    <li><a href="#">How It Works</a></li>
  </ul>
</nav>

<section class="hero">
  <h1>How InCrime Works</h1>
  <p>Click a card below to open the full technical "How it works" flow. Each step reveals with animation.</p>
</section>

<div class="grid" id="mainCards">
  <div class="card" onclick="openPanel('chatbot')">
    <div>
      <div class="icon">üß†</div>
      <h3>Chatbot Help</h3>
      <p>See detailed step-by-step working of chatbot: NLU, session, slot filling, APIs.</p>
    </div>
    <button class="cta">Open Chatbot Flow</button>
  </div>

  <div class="card" onclick="openPanel('generator')">
    <div>
      <div class="icon">üßæ</div>
      <h3>Generate Application</h3>
      <p>See how your details turn into a complete auto-generated legal document.</p>
    </div>
    <button class="cta">Open Generator Flow</button>
  </div>
</div>

<div class="overlay" id="overlay">
  <div class="panel">
    <button class="back-btn" onclick="closePanel()">‚Üê Back</button>
    <button class="close-x" onclick="closePanel()">‚úï</button>

    <div class="left">
      <h3>Flow Steps</h3>
      <div id="stepsList"></div>
    </div>

    <div class="right">
      <h3 id="panelTitle"></h3>
      <div class="content" id="contentArea"></div>
    </div>
  </div>
</div>

<footer>¬© 2025 InCrime</footer>

<script>
const chatbotSteps = [
  {
    title:"1. Start a Chat",
    text:`When a user clicks on the ‚ÄúChatbot Help‚Äù button, a chat window opens and a unique session ID is created. 
This ID helps track the conversation. The chatbot greets the user, e.g. ‚ÄúHello! I‚Äôm your legal assistant.‚Äù`
  },
  {
    title:"2. Ask or Select a Topic",
    text:`User can type a question (like ‚ÄúHow to write an FIR?‚Äù) or select predefined options.
System uses Natural Language Understanding (NLU) to detect intent and keywords like ‚ÄúFIR‚Äù, ‚Äúcomplaint‚Äù, etc.`
  },
  {
    title:"3. Chatbot Guides You",
    text:`Chatbot asks structured questions (Name, Case type, Details).
All answers are temporarily stored in session memory and validated (e.g. empty or wrong input triggers re-ask).`
  },
  {
    title:"4. Get Instant Answers",
    text:`After collecting info, chatbot generates a relevant response.
If user needs guidance ‚Üí shows advice, if documents ‚Üí lists requirements, if create app ‚Üí sends data to generator.`
  },
  {
    title:"5. Automatic Form Filling",
    text:`Chatbot sends collected answers via API (JSON) to the ‚ÄúGenerate Application‚Äù form which auto-fills and displays live preview.`
  },
  {
    title:"6. Always Here to Help",
    text:`Chat session stays active (e.g., 24 hours). User can resume chat later. 
If chatbot can‚Äôt understand or needs human help ‚Üí forwards to legal advisor or admin.`
  }
];

const chatbotIntro = `
<h3>üß† Chatbot Help ‚Äì How It Works</h3>
<p>The InCrime Chatbot is an interactive system designed to help users create legal applications 
and get guidance without needing expert help. It connects frontend chatbot interface with backend AI and database.</p>
<p><strong>üí¨ Step-by-Step Working (Click steps on left to view details)</strong></p>
`;

const generatorHTML = `
<h3>üìù Generate Your Application ‚Äì How It Works</h3>
<ol>
<li><strong>1. Page Opens:</strong> New session starts.</li>
<li><strong>2. Input Details:</strong> User enters or auto-filled data from chatbot.</li>
<li><strong>3. Validate Fields:</strong> Checks name, CNIC, etc.</li>
<li><strong>4. Live Preview:</strong> Form merges with legal template.</li>
<li><strong>5. Backend Processing:</strong> Data structured into formatted document.</li>
<li><strong>6. Generate PDF:</strong> Convert into PDF or Word instantly.</li>
</ol>`;

function openPanel(mode){
  document.getElementById('overlay').style.display='grid';
  const content = document.getElementById('contentArea');
  const stepsList = document.getElementById('stepsList');
  const title = document.getElementById('panelTitle');

  stepsList.innerHTML='';
  content.innerHTML='';
  
  if(mode==='chatbot'){
    title.textContent='Chatbot Help';
    content.innerHTML = chatbotIntro;
    chatbotSteps.forEach((s,i)=>{
      const div = document.createElement('div');
      div.className='step';
      div.innerHTML=`<h4>${s.title}</h4><p>${s.text.slice(0,80)}...</p>`;
      div.onclick=()=>{
        document.querySelectorAll('.step').forEach(st=>st.style.background='#f8fafc');
        div.style.background='#e7f2fb';
        content.innerHTML=`<h3>${s.title}</h3><p>${s.text}</p>`;
      };
      stepsList.appendChild(div);
    });
  } else {
    title.textContent='Generate Your Application';
    content.innerHTML=generatorHTML;
  }
}

function closePanel(){
  document.getElementById('overlay').style.display='none';
}
</script>
</body>
</html>
