<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>How It Works ‚Äì InCrime</title>
<style>
  :root{
    --bg1:#eef6fb;
    --bg2:#ffffff;
    --accent:#0d2a3a;
    --gold:#FFD700;
    --card:#ffffff;
    --glass: rgba(255,255,255,0.6);
  }

  html,body{height:100%;margin:0;font-family:"Segoe UI",system-ui,-apple-system,SegoeUI,Roboto,"Helvetica Neue",Arial;}
  body{
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    color:var(--accent);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  nav{
    display:flex;align-items:center;justify-content:space-between;
    padding:16px 56px;background:linear-gradient(90deg, rgba(13,42,58,0.95), rgba(13,42,58,0.95));
    color:#fff;position:sticky;top:0;z-index:50;box-shadow:0 6px 18px rgba(13,42,58,0.08);
  }
  .logo{font-weight:700;font-size:20px;letter-spacing:0.4px}
  nav ul{display:flex;gap:24px;list-style:none;margin:0;padding:0}
  nav a{color:#fff;text-decoration:none;opacity:0.95}
  nav a:hover{color:var(--gold)}

  .hero{
    text-align:center;padding:72px 10% 40px;
  }
  .hero h1{font-size:40px;margin:0 0 10px}
  .hero p{color:#2b3b45;margin:0 0 28px;font-size:17px}

  .grid{
    display:flex;gap:32px;justify-content:center;flex-wrap:wrap;padding:20px 6%;
    margin-bottom:60px;
  }

  .card{
    width:370px;min-height:220px;background:linear-gradient(180deg,rgba(255,255,255,0.9),var(--card));
    border-radius:16px;padding:28px;box-shadow:0 8px 30px rgba(8,20,30,0.08);
    transition:transform .38s cubic-bezier(.2,.9,.25,1),box-shadow .38s;cursor:pointer;position:relative;overflow:hidden;
    display:flex;flex-direction:column;justify-content:space-between;
  }
  .card:hover{transform:translateY(-10px);box-shadow:0 18px 46px rgba(8,20,30,0.12)}
  .card .icon{font-size:28px}
  .card h3{margin:12px 0 8px;font-size:20px}
  .card p{margin:0;color:#405660;line-height:1.4}
  .card .cta{
    margin-top:18px;align-self:flex-start;background:var(--gold);border:none;padding:10px 16px;border-radius:10px;font-weight:700;cursor:pointer;color:#06202a;
    box-shadow:0 6px 18px rgba(255,183,3,0.18);
  }

  /* overlay modal */
  .overlay{
    position:fixed;inset:0;display:none;place-items:center;background:linear-gradient(180deg,rgba(5,10,15,0.45),rgba(5,10,15,0.6));
    z-index:120;padding:32px;backdrop-filter: blur(5px);
  }
  .panel{
    width:min(1100px,98%);height:min(80vh,860px);background:linear-gradient(180deg,#fff,#fbfdff);
    border-radius:14px;box-shadow:0 30px 80px rgba(6,20,30,0.45);display:grid;grid-template-columns:420px 1fr;overflow:hidden;
  }

  /* left column */
  .left{
    padding:24px 22px;border-right:1px solid rgba(10,20,25,0.04);background:linear-gradient(180deg, rgba(13,42,58,0.02), rgba(13,42,58,0.01));
    display:flex;flex-direction:column;gap:14px;
  }
  .left .mini-title{font-weight:700;color:var(--accent);font-size:18px}
  .steps{flex:1;overflow:auto;padding-right:6px}
  .step{
    background:linear-gradient(180deg,#ffffff,#f7fbff);padding:12px;border-radius:10px;margin-bottom:12px;border:1px solid rgba(8,20,30,0.04);
    opacity:0;transform:translateY(12px);transition:all .45s cubic-bezier(.2,.95,.25,1);
  }
  .step.show{opacity:1;transform:none}
  .step h4{margin:0 0 6px;font-size:15px}
  .step p{margin:0;color:#324b55;font-size:14px;line-height:1.45;white-space:pre-wrap}

  /* right column */
  .right{padding:28px;display:flex;flex-direction:column;gap:10px;}
  .right .title{font-size:20px;font-weight:700}
  .right .sub{color:#5a7680;font-size:13px}
  .content{
    margin-top:12px;flex:1;overflow:auto;padding-right:10px;
    background:linear-gradient(180deg, rgba(13,42,58,0.02), rgba(13,42,58,0.01));
    border-radius:10px;padding:18px;border:1px solid rgba(8,20,30,0.03);
  }

  .content h3{margin-top:6px;margin-bottom:10px}
  .content p, .content li{color:#20343a;font-size:15px;line-height:1.6;white-space:pre-wrap}
  .content ol{padding-left:18px;margin:6px 0 12px}
  .content .reveal{opacity:0;transform:translateY(8px);transition:all .45s cubic-bezier(.2,.95,.25,1)}
  .content .reveal.show{opacity:1;transform:none}

  .close-x{position:absolute;right:16px;top:12px;cursor:pointer;background:transparent;border:none;font-size:22px;color:#12303a}

  footer{padding:18px;text-align:center;background:linear-gradient(90deg,#0d2a3a,#0b2630);color:#fff;font-size:14px}
  .steps::-webkit-scrollbar,.content::-webkit-scrollbar{width:8px}
  .steps::-webkit-scrollbar-thumb,.content::-webkit-scrollbar-thumb{background:linear-gradient(90deg,#ccdbe4,#a7c0cc);border-radius:8px}
  @media (max-width:980px){
    .panel{grid-template-columns:1fr; height:88vh}
    .left{display:none}
  }
</style>
</head>
<body>

<nav>
  <div class="logo">‚öñÔ∏è InCrime</div>
  <ul>
    <li><a href="#">Home</a></li>
    <li><a href="#">How It Works</a></li>
  </ul>
</nav>

<section class="hero">
  <h1>How InCrime Works</h1>
  <p>Click a card below to open the full technical "How it works" flow. Each step reveals in a smooth animated sequence.</p>
</section>

<div class="grid">
  <div class="card" onclick="openPanel('chatbot')">
    <div>
      <div class="icon">üß†</div>
      <h3>Chatbot Help</h3>
      <p>Open the detailed technical flow for Chatbot working.</p>
    </div>
    <button class="cta">Open Chatbot Flow</button>
  </div>

  <div class="card" onclick="openPanel('generator')">
    <div>
      <div class="icon">üßæ</div>
      <h3>Generate Application</h3>
      <p>Open the detailed technical flow for Application Generator.</p>
    </div>
    <button class="cta">Open Generator Flow</button>
  </div>
</div>

<div class="overlay" id="overlay">
  <div class="panel">
    <button class="close-x" onclick="closePanel()">‚úï</button>
    <div class="left">
      <div class="mini-title">Flow Steps</div>
      <div class="steps" id="stepsList"></div>
      <div style="font-size:13px;color:#4a6a73;padding-top:8px">Tip: Click any step to jump.</div>
    </div>
    <div class="right">
      <div class="title" id="panelTitle"></div>
      <div class="sub" id="panelSub"></div>
      <div class="content" id="contentArea"></div>
    </div>
  </div>
</div>

<footer>¬© 2025 InCrime</footer>

<script>
const chatbotHTML = String.raw`YOUR FULL CHATBOT HTML CONTENT HERE`;  
const generatorHTML = String.raw`YOUR FULL GENERATOR HTML CONTENT HERE`;

// Copy both chatbotHTML and generatorHTML content blocks from your previous message here.
// Then paste everything exactly inside these String.raw template literals.
// This will fix all "unexpected token" bugs from long HTML strings.

function buildSteps(html){
  const wrapper = document.createElement('div');
  wrapper.innerHTML = html;
  const lis = wrapper.querySelectorAll('ol > li');
  return Array.from(lis).map((li,i)=>({title:li.querySelector('strong')?.innerText||'Step '+(i+1),content:li.innerHTML}));
}

const overlay=document.getElementById('overlay');
const contentArea=document.getElementById('contentArea');
const stepsList=document.getElementById('stepsList');
const panelTitle=document.getElementById('panelTitle');
const panelSub=document.getElementById('panelSub');

function openPanel(mode){
  overlay.style.display='grid';
  let html,title,sub;
  if(mode==='chatbot'){title='Chatbot Help ‚Äì Working';sub='Frontend, Session, NLU, Dialog';html=chatbotHTML;}
  else{title='Generate Application ‚Äì Working';sub='Form, Preview, AI, PDF';html=generatorHTML;}
  panelTitle.innerText=title;panelSub.innerText=sub;

  const steps=buildSteps(html);
  stepsList.innerHTML='';
  steps.forEach((s,i)=>{
    const div=document.createElement('div');
    div.className='step';
    div.innerHTML=`<h4>${i+1}. ${s.title}</h4><p>${(s.content||'').replace(/<[^>]+>/g,'').slice(0,150)}...</p>`;
    div.addEventListener('click',()=>jumpToStep(i));
    stepsList.appendChild(div);
    setTimeout(()=>div.classList.add('show'),80*i+150);
  });
  contentArea.innerHTML=html;
  setTimeout(()=>{contentArea.querySelectorAll('h3,p,li').forEach((el,i)=>{el.classList.add('reveal');setTimeout(()=>el.classList.add('show'),50*i);});},200);
}

function closePanel(){overlay.style.display='none';stepsList.innerHTML='';contentArea.innerHTML='';}
function jumpToStep(i){const li=contentArea.querySelectorAll('ol > li')[i];if(!li)return;contentArea.scrollTo({top:li.offsetTop-10,behavior:'smooth'});}
overlay.addEventListener('click',e=>{if(e.target===overlay)closePanel();});
document.addEventListener('keydown',e=>{if(e.key==='Escape')closePanel();});
</script>

</body>
</html>
